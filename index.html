<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ciaobabi ðŸ’–</title>

<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@500;700&family=Pacifico&display=swap" rel="stylesheet">

<style>
body{
margin:0;
font-family:"Baloo 2", sans-serif;
background:linear-gradient(180deg,#fff,#ffe7f2);
overflow:hidden;
}

.wrap{
height:100vh;
display:grid;
place-items:center;
}

.card{
width:90%;
max-width:600px;
background:white;
border-radius:25px;
padding:25px;
text-align:center;
position:relative;
}

.logo{
font-family:"Pacifico";
font-size:30px;
color:#ff5fa2;
}

button{
padding:14px 20px;
border-radius:999px;
border:none;
font-size:18px;
cursor:pointer;
margin:10px;
transition:0.1s;
}

#yesBtn{
background:#ff5fa2;
color:white;
}

#noBtn{
background:#eee;
position:relative;
}

.result{
display:none;
margin-top:20px;
}

.result img{
width:100%;
border-radius:20px;
}

.modalBackdrop{
position:fixed;
inset:0;
background:rgba(0,0,0,0.4);
display:none;
align-items:center;
justify-content:center;
}

.modal{
background:white;
padding:20px;
border-radius:20px;
text-align:center;
}
</style>
</head>

<body>

<div class="wrap">
<div class="card" id="card">

<div class="logo">ciaobabi</div>

<h1>Vuoi essere il mio Valentino? ðŸ’–</h1>

<button id="yesBtn">SÃŒ ðŸ’˜</button>
<button id="noBtn">NO ðŸ™ˆ</button>

<div class="result" id="result">
<h2>BRAVO ðŸ’–</h2>
<img src="https://cataas.com/cat">
</div>

</div>
</div>

<div class="modalBackdrop" id="modalBackdrop">
<div class="modal">
<h2>Vuoi schiaffoni?</h2>
<button id="closeX">âœ•</button>
</div>
</div>

<script>
const yesBtn=document.getElementById("yesBtn");
const noBtn=document.getElementById("noBtn");
const modal=document.getElementById("modalBackdrop");
const closeX=document.getElementById("closeX");
const result=document.getElementById("result");
const card=document.getElementById("card");

let evasive=false;

// CLICK NO
noBtn.onclick=()=>{
if(evasive) return;
modal.style.display="flex";
}

// CHIUSURA POPUP
closeX.onclick=()=>{
modal.style.display="none";
evasive=true;
}

// CLICK SI
yesBtn.onclick=()=>{
result.style.display="block";
}

// FUNZIONE SCAPPARE DAL MOUSE
document.addEventListener("mousemove",(e)=>{

if(!evasive) return;

const rect=noBtn.getBoundingClientRect();
const mouseX=e.clientX;
const mouseY=e.clientY;

const distance=Math.hypot(
(mouseX-(rect.left+rect.width/2)),
(mouseY-(rect.top+rect.height/2))
);

// Se il mouse si avvicina
if(distance<120){

const moveX=(Math.random()*80)-40;
const moveY=(Math.random()*80)-40;

noBtn.style.position="absolute";

const cardRect=card.getBoundingClientRect();

let newLeft=noBtn.offsetLeft+moveX;
let newTop=noBtn.offsetTop+moveY;

// Limiti per restare dentro la card
newLeft=Math.max(0,Math.min(cardRect.width-120,newLeft));
newTop=Math.max(100,Math.min(cardRect.height-60,newTop));

noBtn.style.left=newLeft+"px";
noBtn.style.top=newTop+"px";

}
});
</script>

</body>
</html>
